"use strict";(self.webpackChunktahos_lat=self.webpackChunktahos_lat||[]).push([[645],{39412:function(e,i,n){n.d(i,{A:function(){return u}});var r=n(9950),o=n(41397),t="InfoFields_fieldContainer__T-mr8",a="InfoFields_title__kg-LW",s="InfoFields_text__rIG7K",d=n(44414),l=function(e){var i=e.fieldData,n=e.noWrapper,l=function(){return null===i||void 0===i?void 0:i.map(function(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=i.title,l=void 0===n?"":n,u=i.text,c=arguments.length>1?arguments[1]:void 0;return(0,d.jsxs)("div",{className:t,children:[(0,d.jsx)("div",{className:a,children:"".concat(l,":")}),(0,d.jsx)("div",{className:s,children:(e=u,(0,r.isValidElement)(e)||Array.isArray(e)&&(null===e||void 0===e?void 0:e.every(r.isValidElement))||!(0,o.isPlainObject)(e)&&!Array.isArray(e)&&e?e:"-")})]},"field_".concat(c+1))})};return n?l():(0,d.jsx)("div",{className:"descriptionGrid",children:l()})},u=(0,r.memo)(l)},72645:function(e,i,n){n.r(i),n.d(i,{default:function(){return b}});var r=n(91212),o=n(89379),t=n(80045),a=n(10467),s=n(5544),d=n(9950),l=n(54408),u=n(93320),c=n(10300),f=n(45131),p=n(73275),m=n(83137),h="Profile_wrapper__-77hI",w="Profile_form__wBGCJ",v="Profile_title__Z9Z86",k=n(39412),_=n(83325),C=n(80901),g=n(29714),j=n(85546),x=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isPassword,i=void 0!==e&&e;return(0,o.A)({},i?{password:"",repeat_password:""}:{email_notification:""})},A=function(e){var i=e.fieldLabels,n=e.formatMessage,r=e.isPassword,t=void 0!==r&&r;return(0,g.Ik)().shape((0,o.A)({},t?{password:(0,g.Yj)().min(8,(0,j.w)(n,i.password,"password")).required((0,j.w)(n,i.password,"required")),repeat_password:(0,g.Yj)().oneOf([(0,g.KR)("password")],n({id:"not.the.same.password"})).required((0,j.w)(n,i.repeat_password,"required"))}:{email_notification:(0,g.Yj)().email(n({id:"email.validation"})).required((0,j.w)(n,i.email_notification,"required"))}))},L=n(91020),M=n(44414),y=["repeat_password"],b=(0,d.memo)((0,l.Ay)(function(e){var i=e.helmet,n=e.intl.formatMessage,l=(0,c.d4)(function(e){return e.login}),g=l.loggedUser,j=l.spinner,b=(0,c.wA)(),q=function(e){return b(f.yK(e))},P=function(e){return b(f.Lm(e))},W=function(e){return b(f.Bw(e))},I=(0,d.useState)(!0),N=(0,s.A)(I,2),S=N[0],B=N[1],Z=(0,d.useState)(!0),D=(0,s.A)(Z,2),F=D[0],G=D[1],K=function(){var e,i={password:function(){return B(function(e){return!e})},confirm_password:function(){return G(function(e){return!e})}};return null===(e=i[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"password"])||void 0===e?void 0:e.call(i)},O=function(e){return!("Enter"!==e.key)&&(null===z||void 0===z?void 0:z.handleSubmit())},V=(0,d.useMemo)(function(){return{name:n({id:"name"}),email:n({id:"email.1"}),role:n({id:"role.1"}),email_notification:n({id:"client.email.notif"}),password:n({id:"new.password"}),repeat_password:n({id:"repeat.password"}),change_email:n({id:"client.email.notif.change"}),change_password:n({id:"change.password"})}},[n]),E=(0,d.useMemo)(function(){return[{name:"email_notification",required:!0,label:V.email_notification,type:"email",autoChange:!0}]},[V]),T=(0,d.useMemo)(function(){return[{name:"password",type:S?"password":"text",icon:(0,M.jsx)(C.A,{password_hide:S,onClick:function(){return K("password")}}),label:V.password,required:!0,autoChange:!0},{name:"repeat_password",type:F?"password":"text",onKeyPress:O,icon:(0,M.jsx)(C.A,{password_hide:F,onClick:function(){return K("confirm_password")}}),label:V.repeat_password,required:!0,autoChange:!0}]},[V,S,F,K]),Y=function(){var e=(0,a.A)((0,r.A)().m(function e(i){var n,a,s,d,l,c,f,p,h,w;return(0,r.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return q(!0),a=(n=i||{}).repeat_password,s=(0,t.A)(n,y),e.p=1,e.n=2,(0,u.c)({method:"POST",query:"/users/change_me.php",data:s});case 2:d=e.v,l=d.data,P({serverMessage:null===l||void 0===l?void 0:l.message}),a?(f=(c=l||{}).data,p=c.token,h=c.success,(0,L.oO)((0,o.A)({token:p,success:h},f)),null===z||void 0===z||z.handleReset()):W({email_notification:null===i||void 0===i?void 0:i.email_notification}),e.n=4;break;case 3:e.p=3,w=e.v,P({serverMessage:(0,m.b6)(w),color:"error"});case 4:return e.p=4,q(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(i){return e.apply(this,arguments)}}(),R=(0,p.P)({initialValues:x(),editData:{email_notification:(null===g||void 0===g?void 0:g.email_notification)||""},validationSchema:A({fieldLabels:V,formatMessage:n}),onSubmit:Y,keyName:"profile_data"}),H=R.formik,J=R.renderMultipleInputs,U=(0,p.P)({initialValues:x({isPassword:!0}),validationSchema:A({fieldLabels:V,formatMessage:n,isPassword:!0}),onSubmit:Y,keyName:"profile_pass"}),z=U.formik,Q=U.renderMultipleInputs,X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.title,r=e.inputs,o=e.onClick;return(0,M.jsxs)("div",{className:"passwordWrapper pt-4 pb-4",children:[(0,M.jsx)("div",{className:v,children:V[i]}),r,(0,M.jsx)(_.A,{onClick:o,buttonType:"primary",loadingButton:!0,loading:j,fullWidth:!0,children:n({id:"button.save"})})]})};return(0,M.jsxs)(M.Fragment,{children:[null===i||void 0===i?void 0:i(n),(0,M.jsxs)("div",{className:h,children:[(0,M.jsx)(k.A,{fieldData:function(){var e=["name","email","role"];return null===e||void 0===e?void 0:e.map(function(e){return{title:V[e],text:null===g||void 0===g?void 0:g[e]}})}()}),(0,M.jsxs)("div",(0,o.A)((0,o.A)({},(0,m.BG)({delay:"200",duration:"1200"})),{},{className:w,children:[X({title:"change_email",inputs:J(E),onClick:H.handleSubmit}),X({title:"change_password",inputs:Q(T),onClick:z.handleSubmit})]}))]})]})}))},80901:function(e,i,n){n.d(i,{A:function(){return w}});var r=n(9950),o=n(54408),t=n(25333),a=n(83274),s=n(10300),d=n(83137),l=n(89379),u=n(80045),c=n(44414),f=["stroke"],p=function(e){var i=e.stroke,n=(0,u.A)(e,f);return(0,c.jsxs)("svg",(0,l.A)((0,l.A)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),{},{children:[(0,c.jsx)("path",{opacity:"0.4",d:"M15.58 12C15.58 13.98 13.98 15.58 12 15.58C10.02 15.58 8.42004 13.98 8.42004 12C8.42004 10.02 10.02 8.42004 12 8.42004C13.98 8.42004 15.58 10.02 15.58 12Z",stroke:i||"#0f0f0f",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M12 20.27C15.53 20.27 18.82 18.19 21.11 14.59C22.01 13.18 22.01 10.81 21.11 9.39997C18.82 5.79997 15.53 3.71997 12 3.71997C8.46997 3.71997 5.17997 5.79997 2.88997 9.39997C1.98997 10.81 1.98997 13.18 2.88997 14.59C5.17997 18.19 8.46997 20.27 12 20.27Z",stroke:i||"#0f0f0f",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}))},m=["stroke"],h=function(e){var i=e.stroke,n=(0,u.A)(e,m);return(0,c.jsxs)("svg",(0,l.A)((0,l.A)({width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),{},{children:[(0,c.jsx)("path",{d:"M14.53 9.69246L9.46998 14.7525C8.81998 14.1025 8.41998 13.2125 8.41998 12.2225C8.41998 10.2425 10.02 8.64246 12 8.64246C12.99 8.64246 13.88 9.04246 14.53 9.69246Z",stroke:i||"#0f0f0f",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M17.82 5.99239C16.07 4.67239 14.07 3.95239 12 3.95239C8.47003 3.95239 5.18003 6.03239 2.89003 9.63239C1.99003 11.0424 1.99003 13.4124 2.89003 14.8224C3.68003 16.0624 4.60003 17.1324 5.60003 17.9924",stroke:i||"#0f0f0f",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{opacity:"0.4",d:"M8.41998 19.7525C9.55998 20.2325 10.77 20.4925 12 20.4925C15.53 20.4925 18.82 18.4125 21.11 14.8125C22.01 13.4025 22.01 11.0325 21.11 9.62247C20.78 9.10247 20.42 8.61247 20.05 8.15247",stroke:i||"#0f0f0f",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{opacity:"0.4",d:"M15.51 12.9224C15.25 14.3324 14.1 15.4824 12.69 15.7424",stroke:i||"#0f0f0f",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M9.47 14.7524L2 22.2224",stroke:i||"#0f0f0f",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M22 2.22241L14.53 9.69241",stroke:i||"#0f0f0f",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}))},w=(0,r.memo)((0,o.Ay)(function(e){var i=e.onClick,n=e.password_hide,o=e.intl.formatMessage,l=(0,s.d4)(function(e){return e.app}).themeColors,u=(0,r.useMemo)(function(){return{"&.MuiButtonBase-root.MuiIconButton-root":{"&:hover":{backgroundColor:(0,d.DA)(l["--gray-color-2"],.15)}}}},[l]),f=(0,r.useMemo)(function(){return{Icon:n?h:p,title:o({id:n?"button.show.password":"datagrid.columnMenuHideColumn"})}},[n,o]),m=f.Icon,w=f.title;return(0,c.jsx)(a.A,{arrow:!0,title:w,children:(0,c.jsx)(t.A,{sx:u,onClick:i,children:(0,c.jsx)(m,{className:"icon_24",stroke:l["--text-color"]})})})}))},85546:function(e,i,n){n.d(i,{w:function(){return r}});var r=function(e,i,n){return{required:"".concat(e({id:"required.field.1"})," ").concat(i.toLowerCase()," ").concat(e({id:"required.field.2"}),"."),filter:"".concat(e({id:"filter.choose.1"})," ").concat(i.toLowerCase()," ").concat(e({id:"filter.choose.2"})),date:"".concat(e({id:"required.field.1"})," ").concat(i.toLowerCase()," ").concat(e({id:"required.field.2"}),"."),password:"".concat(e({id:"required.field.1"})," ").concat(i.toLowerCase()," ").concat(e({id:"password.minimum.characters"})),length:"".concat(e({id:"required.upload.field"}))}[n]}}}]);