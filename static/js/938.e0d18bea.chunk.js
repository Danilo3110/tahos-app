"use strict";(self.webpackChunktahos_lat=self.webpackChunktahos_lat||[]).push([[109,938],{20454:function(e,t,n){function i(e){if(null==e)throw new TypeError("Cannot destructure "+e)}n.d(t,{A:function(){return i}})},39412:function(e,t,n){n.d(t,{A:function(){return u}});var i=n(9950),a=n(41397),r="InfoFields_fieldContainer__T-mr8",o="InfoFields_title__kg-LW",l="InfoFields_text__rIG7K",d=n(44414),s=function(e){var t=e.fieldData,n=e.noWrapper,s=function(){return null===t||void 0===t?void 0:t.map(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.title,s=void 0===n?"":n,u=t.text,c=arguments.length>1?arguments[1]:void 0;return(0,d.jsxs)("div",{className:r,children:[(0,d.jsx)("div",{className:o,children:"".concat(s,":")}),(0,d.jsx)("div",{className:l,children:(e=u,(0,i.isValidElement)(e)||Array.isArray(e)&&(null===e||void 0===e?void 0:e.every(i.isValidElement))||!(0,a.isPlainObject)(e)&&!Array.isArray(e)&&e?e:"-")})]},"field_".concat(c+1))})};return n?s():(0,d.jsx)("div",{className:"descriptionGrid",children:s()})},u=(0,i.memo)(s)},70298:function(e,t,n){var i=n(89379),a=n(9950),r=n(54408),o=n(10300),l=n(17419),d=n(83325),s=n(44414);t.A=(0,a.memo)((0,r.Ay)(function(e){var t=e.open,n=e.title,r=e.message,u=e.confirmationHandler,c=e.handleClose,f=e.maxWidth,m=e.confirmOnly,v=e.confirmDisabled,h=e.confirmButtonType,p=e.intl.formatMessage,A=(0,o.d4)(function(e){return e.login}).spinner,g=(0,a.useMemo)(function(){return["xs","sm"].includes(f)},[f]),b=(0,a.useMemo)(function(){return g?{fullWidth:!0}:{}},[g]);return(0,s.jsx)(l.A,{open:t,maxWidth:f||"sm",handleClose:c,title:n,message:r,footer:(0,s.jsxs)(s.Fragment,{children:[!m&&(0,s.jsx)(d.A,(0,i.A)((0,i.A)({buttonType:"reset",onClick:c,disabled:A},b),{},{children:p({id:"button.cancel"})})),(0,s.jsx)(d.A,(0,i.A)((0,i.A)({buttonType:h||"primary",onClick:function(){return!v&&u()},loadingButton:!0,loading:A,disabled:v},b),{},{children:p({id:m||"button.confirm"})}))]})})}))},70742:function(e,t,n){var i=n(89379),a=n(80045),r=n(9950),o=n(54408),l=n(83325),d=n(44414),s=["text"];t.A=(0,r.memo)((0,o.Ay)(function(e){var t=e.handleSubmit,n=e.rejectAction,r=e.spinner,o=e.intl.formatMessage;return function(){var e=[{text:"button.cancel",buttonType:"reset",onClick:n,disabled:r},{text:"button.save",buttonType:"primary",onClick:t,loading:r,loadingButton:!0}];return null===e||void 0===e?void 0:e.flatMap(function(e,t){var n=e.text,r=(0,a.A)(e,s);return null!==r&&void 0!==r&&r.onClick?(0,d.jsx)(l.A,(0,i.A)((0,i.A)({},r),{},{children:o({id:n})}),"".concat(n,"_").concat(t)):[]})}()}))},83382:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var i=n(89379),a=n(5544),r=n(80045),o=n(9950),l=n(54408),d=n(10300),s=n(83137),u=n(95250),c=n(4297),f=n(49389),m=n(27162),v=n(65510),h=n(67078),p=n(91212),A=n(10467),g=n(20454),b=n(45131),y=n(93320),x=n(73275),j=n(17419),w=n(70298),C=n(70742),D=n(39412),M=n(85546),_=n(29714),k={name:"",description:""},q=function(e){var t=e.fieldLabels,n=e.formatMessage;return(0,_.Ik)().shape({name:(0,_.Yj)().required((0,M.w)(n,t.name,"required")),description:(0,_.Yj)().required((0,M.w)(n,t.description,"required"))})},N=n(44414),F=(0,o.memo)((0,l.Ay)(function(e){var t=e.modal,n=e.handleClose,a=e.editData,r=e.fieldLabels,l=e.columns,u=e.dataAll,c=e.setDataAll,f=e.intl.formatMessage,m=(0,d.d4)(function(e){return e.login}).spinner,v=(0,d.wA)(),h=function(e){return v(b.yK(e))},M=function(e){return v(b.Lm(e))};(0,o.useEffect)(function(){"new"===t&&(null===S||void 0===S||S.handleReset())},[t]);var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},((0,g.A)(e),e));return(0,i.A)({},t)},F=function(){var e=(0,A.A)((0,p.A)().m(function e(r){var o,l,d,f,m,v,A,g,b,x,j,w;return(0,p.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(h(!0),l=r&&_(r),f=(null===(o=(d={new:function(){return{url:"/types/add.php",postData:l}},edit:function(){return{url:"/types/edit.php",postData:(0,i.A)({id:null===a||void 0===a?void 0:a.id},l)}},status:function(){return{url:"/types/change_status.php",postData:{id:null===a||void 0===a?void 0:a.id}}}})[t])||void 0===o?void 0:o.call(d))||{},m=f.url,v=f.postData,A=void 0===v?null:v,g=f.actionData,!m){e.n=6;break}return e.p=1,e.n=2,(0,y.c)({method:"POST",query:m,data:A});case 2:b=e.v,x=b.data,j=(0,s.XF)(u,g||(null===x||void 0===x?void 0:x.data),t),c(j),n(),M({serverMessage:null===x||void 0===x?void 0:x.message}),e.n=4;break;case 3:e.p=3,w=e.v,M({serverMessage:(0,s.b6)(w),color:"error"});case 4:return e.p=4,h(!1),e.f(4);case 5:e.n=7;break;case 6:h(!1);case 7:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(t){return e.apply(this,arguments)}}(),L=(0,x.P)({initialValues:k,editData:a,validationSchema:q({fieldLabels:r,formatMessage:f}),onSubmit:F,keyName:"client_types"}),S=L.formik,T=L.renderMultipleInputs,W=(0,o.useMemo)(function(){return[{name:"name",required:!0,label:r.name},{name:"description",required:!0,label:r.description,multiline:!0,rows:14}]},[r]);return function(){var e,r=["new","edit"].includes(t)?j.A:w.A,o={new:function(){return{title:f({id:"button.add"}),message:(0,N.jsx)("div",{className:"mt-2",children:T(W)}),footer:(0,N.jsx)(C.A,{handleSubmit:null===S||void 0===S?void 0:S.handleSubmit,rejectAction:n,spinner:m})}},edit:function(){return{title:f({id:"modal.edit"}),message:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(D.A,{fieldData:(0,s.Un)({columns:l,editData:a})}),(0,N.jsx)("div",{className:"mt-5",children:T(W)})]}),footer:(0,N.jsx)(C.A,{handleSubmit:null===S||void 0===S?void 0:S.handleSubmit,rejectAction:n,spinner:m})}},status:function(){return{title:f({id:"modal.status"}),message:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(D.A,{fieldData:(0,s.Un)({columns:l,editData:a})}),(0,s.GC)({active:null===a||void 0===a?void 0:a.status,formatMessage:f})]}),maxWidth:"md",confirmationHandler:F,confirmButtonType:"primary"}}};return(0,N.jsx)(r,(0,i.A)({open:!!t,handleClose:n,maxWidth:"sm"},null===(e=o[t])||void 0===e?void 0:e.call(o)))}()})),L=["urlQuery"],S=(0,o.memo)((0,l.Ay)(function(e){var t=e.helmet,n=e.intl.formatMessage,l=(0,d.d4)(function(e){return e.dataTable}).local_query,p=(0,c.c)({formatMessage:n}),A=p.urlQuery,g=(0,r.A)(p,L),b=(0,u.X)({url:"/types/list.php?delay=1".concat(A),hasRefetch:!0,keepQuery:!0}),y=b.data,x=b.setData,j=b.loading,w=(0,o.useMemo)(function(){return(0,s.XH)({responseData:y,itemActiveName:"status",formatMessage:n})},[y,n]),C=(0,o.useState)(null),D=(0,a.A)(C,2),M=D[0],_=D[1],k=(0,o.useState)(!1),q=(0,a.A)(k,2),S=q[0],T=q[1],W=(0,o.useMemo)(function(){return{id:n({id:"table.number"}),name:n({id:"client.types.name"}),description:n({id:"client.types.desc"}),status:n({id:"filter.status"})}},[n]),I=(0,o.useMemo)(function(){return[{field:"id",headerName:W.id,width:100,headerAlign:"center",align:"center",infoField:!0},{field:"name",headerName:W.name,width:300,headerAlign:"center",align:"center"},{field:"description",headerName:W.description,width:450,headerAlign:"center",align:"center"},{field:"status",headerName:W.status,width:200,headerAlign:"center",align:"center",renderCell:function(e){var t=e.row;return(0,N.jsx)(h.A,{type:"active",data:null===t||void 0===t?void 0:t.status})},infoField:!0}]},[W]),B=(0,o.useMemo)(function(){return{new_action:function(){M&&_(null),T("new")},edit:function(){return T("edit")},status:function(){return T("status")}}},[M]);return(0,N.jsxs)(N.Fragment,{children:[null===t||void 0===t?void 0:t(n),(0,N.jsx)(f.A,(0,i.A)({search_type:"client_types",fieldLabels:W},g)),(0,N.jsx)(v.A,{hasRefresh:!0,defaultCrudActions:B,disabled:!M}),(0,N.jsx)(m.A,{isActive:!0,editData:M,loading:j,data:(0,s.CB)(w,l),columns:I,selectRow:_,selectRowDoubleClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.modalAction,n=e.row;_(n),T(t)}}),(0,N.jsx)(F,{modal:S,handleClose:function(){T(!1),M&&_(null)},editData:M,fieldLabels:W,columns:null===I||void 0===I?void 0:I.filter(function(e){return e.infoField}),dataAll:w,setDataAll:x})]})}))},85546:function(e,t,n){n.d(t,{w:function(){return i}});var i=function(e,t,n){return{required:"".concat(e({id:"required.field.1"})," ").concat(t.toLowerCase()," ").concat(e({id:"required.field.2"}),"."),filter:"".concat(e({id:"filter.choose.1"})," ").concat(t.toLowerCase()," ").concat(e({id:"filter.choose.2"})),date:"".concat(e({id:"required.field.1"})," ").concat(t.toLowerCase()," ").concat(e({id:"required.field.2"}),"."),password:"".concat(e({id:"required.field.1"})," ").concat(t.toLowerCase()," ").concat(e({id:"password.minimum.characters"})),length:"".concat(e({id:"required.upload.field"}))}[n]}}}]);