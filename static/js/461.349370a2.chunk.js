"use strict";(self.webpackChunktahos_lat=self.webpackChunktahos_lat||[]).push([[461],{4297:function(e,n,t){t.d(n,{c:function(){return r}});var i=t(89379),o=t(9950),l=t(10300),a=t(20610),r=function(e){var n=e.clientId,t=e.clientIdQuery,r=void 0===t?"":t,s=e.noStatus,d=e.formatMessage,u=(0,l.d4)(function(e){return e.dataTable}).search_query,c=(0,o.useMemo)(function(){return s?"":"&status=1"},[s]),v=u?"".concat(r).concat(u):"".concat(r).concat(c),f=(0,o.useMemo)(function(){var e;return(0,i.A)((0,i.A)({},n&&{clients:{id:n,name:n}}),!s&&{status:null===(e=(0,a.eb)(d))||void 0===e?void 0:e.find(function(e){return!!e.value})})},[n,s,d]);return(0,i.A)({urlQuery:v,defaultInitialState:f,defaultOption:f},r&&{clientIdQuery:r})}},27162:function(e,n,t){t.d(n,{A:function(){return L}});var i=t(89379),o=t(60436),l=t(5544),a=t(9950),r=t(54408),s=t(10300),d=t(17439),u=t(32313),c=t(93038),v=t(13633),f=t(15769),h=t(72595),m=t(9213),p=t(1037),A=t(44414),g=t(83137),y=t(46639),x="DataTableLoading_container__DHIsr",b=t(5731),C=function(){return(0,A.jsx)("div",{className:x,children:(0,A.jsx)(y.A,{color:"success",size:48,sx:{color:b.a5}})})},_=t(41612),w=function(e){return{columnMenuLabel:e({id:"datagrid.columnMenuLabel"}),columnHeaderSortIconLabel:e({id:"datagrid.columnHeaderSortIconLabel"}),columnMenuUnsort:e({id:"datagrid.columnMenuUnsort"}),columnMenuSortAsc:e({id:"datagrid.columnMenuSortAsc"}),columnMenuSortDesc:e({id:"datagrid.columnMenuSortDesc"}),columnMenuHideColumn:e({id:"datagrid.columnMenuHideColumn"}),columnMenuShowColumns:e({id:"datagrid.columnMenuShowColumns"}),columnMenuManageColumns:e({id:"datagrid.columnMenuManageColumns"}),columnsPanelTextFieldLabel:e({id:"datagrid.columnsPanelTextFieldLabel"}),columnsPanelTextFieldPlaceholder:e({id:"datagrid.columnsPanelTextFieldPlaceholder"}),columnsPanelShowAllButton:e({id:"datagrid.columnsPanelShowAllButton"}),columnsPanelHideAllButton:e({id:"datagrid.columnsPanelHideAllButton"}),noRowsLabel:e({id:"table.no-data"})}},k=function(e){return(0,A.jsxs)("svg",(0,i.A)((0,i.A)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"#B7923335",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[(0,A.jsx)("path",{d:"M12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22Z",stroke:(null===e||void 0===e?void 0:e.stroke)||"#B79233",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,A.jsx)("path",{d:"M7.75 12.0019L10.58 14.8319L16.25 9.17188",stroke:(null===e||void 0===e?void 0:e.stroke)||"#B79233",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}))},j=function(e){return(0,A.jsx)("svg",(0,i.A)((0,i.A)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:(0,A.jsx)("path",{d:"M12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22Z",stroke:(null===e||void 0===e?void 0:e.stroke)||"#ACB1C1",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}))},M=t(74183),L=(0,r.Ay)(function(e){var n=e.data,t=void 0===n?[]:n,r=e.editData,y=e.columns,x=e.selectRow,b=e.selectRowDoubleClick,L=(e.nonStriped,e.density),P=e.loading,S=e.disableRowSelectionOnClick,R=e.noFirstColumn,B=e.nonEditableRowCondition,D=e.isActive,T=e.noSort,N=e.customId,I=e.checkboxSelection,H=e.deselectAll,Q=e.withoutPagination,O=e.autoHeight,E=e.keepQuery,z=e.intl.formatMessage,F=!D,W=(0,s.d4)(function(e){return e.dataTable}),V=W.pagination,q=W.local_query,Z=(0,v.P)().CustomDataGridStyle,G=function(e){var n=e.data,t=e.paginationLength,i=void 0===t?10:t,o=e.formatMessage,r=(0,s.d4)(function(e){return e.dataTable}).pagination,d=(0,a.useState)(10),u=(0,l.A)(d,2),c=u[0],v=u[1],g=(0,a.useState)(0),y=(0,l.A)(g,2),x=y[0],b=y[1];(0,a.useEffect)(function(){!k&&x&&b(function(e){return w?e-1:e})},[n]);var C=function(e,n){return b(n)},_=function(e){var n=e.target.value;v(n),b(0)},w=(null===n||void 0===n?void 0:n.length)/x<=c,k=!r||(null===n||void 0===n?void 0:n.length)<i;return{noPagination:k,visibleRows:function(){var e=x*c,t=e+c;return null===n||void 0===n?void 0:n.slice(e,t)},customPagination:function(){return(0,A.jsx)(f.A,{children:(0,A.jsx)(h.A,{children:(0,A.jsx)(m.A,{children:(0,A.jsx)(p.A,{sx:{"& .MuiTablePagination-selectLabel, & .MuiTablePagination-displayedRows":{fontFamily:"Poppins !important",mb:0},".MuiTablePagination-select ":{pb:"4px"},".MuiTablePagination-selectIcon ":{pb:"2px"}},labelRowsPerPage:"".concat(o({id:"pagination.labelRowsPerPage"}),":"),labelDisplayedRows:function(e){var n=e.from,t=e.to,i=e.count;return"".concat(n,"-").concat(t," ").concat(o({id:"pagination.labelDisplayedRows.of"})," ").concat(i)},rowsPerPageOptions:[5,10,15,25,50,100],count:null===n||void 0===n?void 0:n.length,page:x&&w?0:x,rowsPerPage:c,onRowsPerPageChange:_,onPageChange:C,slotProps:{actions:{nextButton:{title:o({id:"pagination.nextIconButtonProps"})},previousButton:{title:o({id:"pagination.backIconButtonProps"})}}}})})})})}}}({data:t,withoutPagination:Q,formatMessage:z}),K=G.noPagination,J=G.visibleRows,X=G.customPagination,U=(0,a.useState)({page:0,pageSize:10}),Y=(0,l.A)(U,2),$=Y[0],ee=Y[1],ne=(0,a.useState)([]),te=(0,l.A)(ne,2),ie=te[0],oe=te[1],le=(0,a.useState)(!1),ae=(0,l.A)(le,2),re=ae[0],se=ae[1];(0,a.useEffect)(function(){H&&me({deselectAll:H})},[H]),(0,a.useEffect)(function(){!I&&r&&!E&&x(null)},[q]);var de=(0,a.useMemo)(function(){return K||I?(0,g.di)(t):J()},[K,t,J]),ue=function(e){var n={default:{rowCondition:!0,className:[]}};return(null===n||void 0===n?void 0:n[B])||(null===n||void 0===n?void 0:n.default)},ce=function(e){var n=ue()||{},t=n.Icon,i=n.rowCondition,o=t||(i?j:M.A),l=S||(null===r||void 0===r?void 0:r.id)===(null===e||void 0===e?void 0:e.id)&&i?k:o,a={cursor:i?"pointer":"auto",width:"1.5rem",height:"1.5rem"};return(0,A.jsx)("div",{children:(0,A.jsx)(l,{index:null===e||void 0===e?void 0:e.id,style:a})})},ve=(0,a.useMemo)(function(){return[].concat((0,o.A)(R||F||!V?[]:[{field:"#",headerName:"",sortable:!1,hideable:!1,width:60,align:"center",renderCell:function(e){var n=e.row;return ce(n)}}]),(0,o.A)(I?[(0,i.A)((0,i.A)({},d.f),{},{renderHeader:function(){return(0,A.jsx)(c.A,{checked:!(null===t||void 0===t||!t.length)&&(null===ie||void 0===ie?void 0:ie.length)===(null===t||void 0===t?void 0:t.length),onChange:me,indeterminate:!(null===ie||void 0===ie||!ie.length)&&(null===ie||void 0===ie?void 0:ie.length)<(null===t||void 0===t?void 0:t.length)})}})]:[]),(0,o.A)(null===y||void 0===y?void 0:y.map(function(e,n){return n?(0,i.A)((0,i.A)({},e),!!T&&{sortable:!1}):(0,i.A)((0,i.A)({},e),{},{hideable:!1},!!T&&{sortable:!1})})))},[R,F,V,y,T,ce]),fe=function(e){var n;return!(null===(n=ue(null===e||void 0===e||e.row))||void 0===n||!n.rowCondition)},he=(0,a.useCallback)(function(e){oe(function(n){var i=(0,g.di)(t),o=(null===e||void 0===e?void 0:e.length)===(null===i||void 0===i?void 0:i.length);if((null===n||void 0===n?void 0:n.length)===(null===i||void 0===i?void 0:i.length)&&(null===n||void 0===n||!n.length))return n;var l=o?i.map(function(e){return e.id}):e,a=o?i:i.filter(function(n){return e.includes(n.id)});return JSON.stringify(n)!==JSON.stringify(l)?(I({rowIds:l,filteredData:a}),l):n})},[I]),me=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).deselectAll,n=function(n){var i;return re||e?[]:null===(i=(0,g.di)(t))||void 0===i?void 0:i.flatMap(function(e){var t=(ue()||{}).rowCondition,i=n?e[n]:e;return t?i:[]})};oe(n("id")),I({rowIds:n("id"),filteredData:n()}),se(function(e){return!e})},pe=(0,a.useMemo)(function(){return 67},[]);return(0,A.jsx)("div",{style:{width:"100%"},children:(0,A.jsx)(u.zh,(0,i.A)((0,i.A)((0,i.A)({},N?{getRowId:function(e){return e[N]||(null===e||void 0===e?void 0:e.id)}}:{}),{},{autoHeight:!0,localeText:w(z),columnHeaderHeight:59,rowHeight:pe},O?{getRowHeight:function(e){return function(e){var n=[null===e||void 0===e?void 0:e.photo,null===e||void 0===e?void 0:e.vehicle,null===e||void 0===e?void 0:e.drivers],t=null===n||void 0===n?void 0:n.some(function(e){return((null===e||void 0===e?void 0:e.length)||0)>1});return O&&t?"auto":pe}(null===e||void 0===e?void 0:e.model)}}:{}),{},{density:L||"compact",sx:Z(null===t||void 0===t?void 0:t.length,"noPagination"),slots:(0,i.A)({loadingOverlay:C,noRowsOverlay:_.A,noResultsOverlay:_.A},!I&&{pagination:X}),rows:de,columns:ve,loading:P,paginationMode:"client",rowCount:null===t||void 0===t?void 0:t.length,hideFooter:K,hideFooterPagination:K,sortingMode:"client",filterMode:"client",disableColumnFilter:!0,disableColumnMenu:F,editMode:"row",onRowClick:function(e){return!!x&&fe(e)&&x(null===e||void 0===e?void 0:e.row)},onRowDoubleClick:function(e){return!!b&&b({modalAction:"edit",row:null===e||void 0===e?void 0:e.row})},disableRowSelectionOnClick:S,hideFooterSelectedRowCount:!0,getRowClassName:function(e){return function(e){var n;return(0,o.A)(null===(n=ue(null===e||void 0===e||e.row))||void 0===n?void 0:n.className)}(e).join(" ")},isRowSelectable:function(e){return fe(e)}},I?{checkboxSelection:!0,onRowSelectionModelChange:function(e){return he(e)},rowSelectionModel:ie,pagination:!0,paginationModel:$,onPaginationModelChange:ee,pageSizeOptions:[5,10,15,25,50,100],hideFooterSelectedRowCount:!1}:{}))})})},49389:function(e,n,t){t.d(n,{A:function(){return K}});var i=t(64467),o=t(5544),l=t(89379),a=t(80045),r=t(9950),s=t(54408),d=t(28429),u=t(41397),c=t(93230),v=t(44094),f=t(10300),h=t(45131),m=t(13633),p=t(20610),A=function(e){var n,t,i=e.formData,o=e.fieldLabels,a=e.formatMessage;return[(0,l.A)((0,l.A)({key:"filter",name:"status"},!!o&&{label:o.status}),{},{searchQuery:null!==i&&void 0!==i&&null!==(n=i.status)&&void 0!==n&&n.id?"&status=".concat(null===i||void 0===i||null===(t=i.status)||void 0===t?void 0:t.value):" ",options:(0,p.eb)(a),type:"active"})]},g=function(e){var n,t,i,o,a=e.formData,r=e.fieldLabels,s=e.formatMessage;return[(0,l.A)((0,l.A)({key:"filter",name:"client_type",url:"types/list.php?status=1"},!!r&&{label:r.type}),{},{searchQuery:null!==a&&void 0!==a&&null!==(n=a.client_type)&&void 0!==n&&n.id?"&id_client_type=".concat(null===a||void 0===a||null===(t=a.client_type)||void 0===t?void 0:t.id):"",refresh:!0,customData:!0,filterType:"client_type"}),(0,l.A)((0,l.A)({key:"filter",name:"status"},!!r&&{label:r.status}),{},{searchQuery:null!==a&&void 0!==a&&null!==(i=a.status)&&void 0!==i&&i.id?"&status=".concat(null===a||void 0===a||null===(o=a.status)||void 0===o?void 0:o.value):" ",options:(0,p.eb)(s),type:"active"})]},y=t(60436),x=function(e){var n,t,i,o,a=e.formData,r=e.fieldLabels,s=e.formatMessage,d=e.roleCondition;return[].concat((0,y.A)(d?[(0,l.A)((0,l.A)({key:"filter",name:"role",url:"roles/list.php"},!!r&&{label:r.role}),{},{searchQuery:null!==a&&void 0!==a&&null!==(n=a.role)&&void 0!==n&&n.id?"&role=".concat(null===a||void 0===a||null===(t=a.role)||void 0===t?void 0:t.id):"",refresh:!0})]:[]),[(0,l.A)((0,l.A)({key:"filter",name:"status"},!!r&&{label:r.status}),{},{searchQuery:null!==a&&void 0!==a&&null!==(i=a.status)&&void 0!==i&&i.id?"&status=".concat(null===a||void 0===a||null===(o=a.status)||void 0===o?void 0:o.value):" ",options:(0,p.eb)(s),type:"active"})])},b=function(e){var n,t,i=e.formData,o=e.fieldLabels,a=e.formatMessage;return[(0,l.A)((0,l.A)({key:"filter",name:"status"},!!o&&{label:o.status}),{},{searchQuery:null!==i&&void 0!==i&&null!==(n=i.status)&&void 0!==n&&n.id?"&status=".concat(null===i||void 0===i||null===(t=i.status)||void 0===t?void 0:t.value):" ",options:(0,p.eb)(a),type:"active"})]},C=t(83137),_=function(e){var n,t,i,o,a,r,s,d,u,c,v,f,h=e.formData,m=e.fieldLabels,p=e.roleCondition,A=e.clientIdQuery,g=void 0===A?"":A;return[].concat((0,y.A)(p?[(0,l.A)((0,l.A)({key:"filter",name:"clients",url:"clients/list.php?status=1"},!!m&&{label:m.name}),{},{searchQuery:null!==h&&void 0!==h&&null!==(n=h.clients)&&void 0!==n&&n.id?"&id_client=".concat(null===h||void 0===h||null===(t=h.clients)||void 0===t?void 0:t.id):"",refresh:!0})]:[]),[(0,l.A)((0,l.A)((0,l.A)({key:"filter",name:"driver"},p?(0,l.A)({},(null===h||void 0===h||null===(i=h.clients)||void 0===i?void 0:i.id)&&{url:"drivers/list.php?status=1&id_client=".concat(null===h||void 0===h||null===(o=h.clients)||void 0===o?void 0:o.id)}):{url:"drivers/list.php?status=1".concat(g)}),!!m&&{label:m.driver}),{},{searchQuery:null!==h&&void 0!==h&&null!==(a=h.driver)&&void 0!==a&&a.id?"&id_driver=".concat(null===h||void 0===h||null===(r=h.driver)||void 0===r?void 0:r.id):"",refresh:!0,customData:!0,filterType:"driver"}),(0,l.A)((0,l.A)((0,l.A)({key:"filter",name:"vehicle"},p?(0,l.A)({},(null===h||void 0===h||null===(s=h.clients)||void 0===s?void 0:s.id)&&{url:"vehicles/list.php?status=1&id_client=".concat(null===h||void 0===h||null===(d=h.clients)||void 0===d?void 0:d.id)}):{url:"vehicles/list.php?status=1".concat(g)}),!!m&&{label:m.vehicle}),{},{searchQuery:null!==h&&void 0!==h&&null!==(u=h.vehicle)&&void 0!==u&&u.id?"&id_vehicle=".concat(null===h||void 0===h||null===(c=h.vehicle)||void 0===c?void 0:c.id):"",refresh:!0,customData:!0,filterType:"vehicle"}),(0,l.A)((0,l.A)({key:"filter",name:"alarm_type",url:"alarms/settings.php?status=1"},!!m&&{label:m.alarm_type}),{},{searchQuery:null!==h&&void 0!==h&&null!==(v=h.alarm_type)&&void 0!==v&&v.id?"&alarm_type=".concat(null===h||void 0===h||null===(f=h.alarm_type)||void 0===f?void 0:f.id):"",refresh:!0,customData:!0,filterType:"alarm_type"}),(0,l.A)((0,l.A)({key:"input",name:"num_dates_from"},!!m&&{label:m.num_dates_from}),{},{searchQuery:null!==h&&void 0!==h&&h.num_dates_from?"&num_dates_from=".concat(null===h||void 0===h?void 0:h.num_dates_from):"",type:"number"}),(0,l.A)((0,l.A)({key:"input",name:"num_dates_to"},!!m&&{label:m.num_dates_to}),{},{searchQuery:null!==h&&void 0!==h&&h.num_dates_to?"&num_dates_to=".concat(null===h||void 0===h?void 0:h.num_dates_to):"",type:"number"}),(0,l.A)((0,l.A)({key:"date",name:"deadline_to"},!!m&&{label:m.deadline_to}),{},{searchQuery:null!==h&&void 0!==h&&h.deadline_to?"&deadline_to=".concat((0,C.uv)(null===h||void 0===h?void 0:h.deadline_to)):"",fullDate:!0})])},w=function(e){var n,t,i,o,a,r,s,d,u,c,v,f,h,m,A=e.formData,g=e.fieldLabels,x=e.formatMessage,b=e.roleCondition,_=e.clientIdQuery,w=void 0===_?"":_;return[].concat((0,y.A)(b?[(0,l.A)((0,l.A)({key:"filter",name:"clients",url:"clients/list.php?status=1"},!!g&&{label:g.name}),{},{searchQuery:null!==A&&void 0!==A&&null!==(n=A.clients)&&void 0!==n&&n.id?"&id_client=".concat(null===A||void 0===A||null===(t=A.clients)||void 0===t?void 0:t.id):"",refresh:!0})]:[]),[(0,l.A)((0,l.A)((0,l.A)({key:"filter",name:"driver"},b?(0,l.A)({},(null===A||void 0===A||null===(i=A.clients)||void 0===i?void 0:i.id)&&{url:"drivers/list.php?status=1&id_client=".concat(null===A||void 0===A||null===(o=A.clients)||void 0===o?void 0:o.id)}):{url:"drivers/list.php?status=1".concat(w)}),!!g&&{label:g.driver}),{},{searchQuery:null!==A&&void 0!==A&&null!==(a=A.driver)&&void 0!==a&&a.id?"&id_driver=".concat(null===A||void 0===A||null===(r=A.driver)||void 0===r?void 0:r.id):"",refresh:!0,customData:!0,filterType:"driver"}),(0,l.A)((0,l.A)((0,l.A)({key:"filter",name:"vehicle"},b?(0,l.A)({},(null===A||void 0===A||null===(s=A.clients)||void 0===s?void 0:s.id)&&{url:"vehicles/list.php?status=1&id_client=".concat(null===A||void 0===A||null===(d=A.clients)||void 0===d?void 0:d.id)}):{url:"vehicles/list.php?status=1".concat(w)}),!!g&&{label:g.vehicle}),{},{searchQuery:null!==A&&void 0!==A&&null!==(u=A.vehicle)&&void 0!==u&&u.id?"&id_vehicle=".concat(null===A||void 0===A||null===(c=A.vehicle)||void 0===c?void 0:c.id):"",refresh:!0,customData:!0,filterType:"vehicle"}),(0,l.A)((0,l.A)({key:"filter",name:"type",url:"report_types/list.php?status=1"},!!g&&{label:g.type}),{},{searchQuery:null!==A&&void 0!==A&&null!==(v=A.type)&&void 0!==v&&v.id?"&id_report_type=".concat(null===A||void 0===A||null===(f=A.type)||void 0===f?void 0:f.id):"",refresh:!0}),(0,l.A)((0,l.A)({key:"filter",name:"status"},!!g&&{label:g.status}),{},{searchQuery:null!==A&&void 0!==A&&null!==(h=A.status)&&void 0!==h&&h.id?"&status=".concat(null===A||void 0===A||null===(m=A.status)||void 0===m?void 0:m.value):" ",options:(0,p.eb)(x),type:"active"}),(0,l.A)((0,l.A)({key:"date",name:"date_from"},!!g&&{label:g.date_from}),{},{searchQuery:null!==A&&void 0!==A&&A.date_from?"&date_from=".concat((0,C.uv)(null===A||void 0===A?void 0:A.date_from)):"",fullDate:!0}),(0,l.A)((0,l.A)({key:"date",name:"date_to"},!!g&&{label:g.date_to}),{},{searchQuery:null!==A&&void 0!==A&&A.date_to?"&date_to=".concat((0,C.uv)(null===A||void 0===A?void 0:A.date_to)):"",fullDate:!0})])},k=function(e){var n,t,i,o,a,r,s=e.formData,d=e.fieldLabels,u=e.formatMessage;return[(0,l.A)((0,l.A)({key:"filter",name:"type",options:(0,p.f$)(u)},!!d&&{label:d.type}),{},{searchQuery:null!==s&&void 0!==s&&null!==(n=s.type)&&void 0!==n&&n.id?"&type=".concat(null===s||void 0===s||null===(t=s.type)||void 0===t?void 0:t.value):""}),(0,l.A)((0,l.A)({key:"filter",name:"has_alarm"},!!d&&{label:d.has_alarm}),{},{searchQuery:null!==s&&void 0!==s&&null!==(i=s.has_alarm)&&void 0!==i&&i.id?"&has_alarm=".concat(null===s||void 0===s||null===(o=s.has_alarm)||void 0===o?void 0:o.value):"",options:(0,p.zD)(u),type:"active"}),(0,l.A)((0,l.A)({key:"filter",name:"status"},!!d&&{label:d.status}),{},{searchQuery:null!==s&&void 0!==s&&null!==(a=s.status)&&void 0!==a&&a.id?"&status=".concat(null===s||void 0===s||null===(r=s.status)||void 0===r?void 0:r.value):" ",options:(0,p.eb)(u),type:"active"})]},j=function(e){var n,t,i,o,a=e.formData,r=e.fieldLabels,s=e.formatMessage;return[(0,l.A)((0,l.A)({key:"filter",name:"has_alarm"},!!r&&{label:r.has_alarm}),{},{searchQuery:null!==a&&void 0!==a&&null!==(n=a.has_alarm)&&void 0!==n&&n.id?"&has_alarm=".concat(null===a||void 0===a||null===(t=a.has_alarm)||void 0===t?void 0:t.value):"",options:(0,p.zD)(s),type:"active"}),(0,l.A)((0,l.A)({key:"filter",name:"status"},!!r&&{label:r.status}),{},{searchQuery:null!==a&&void 0!==a&&null!==(i=a.status)&&void 0!==i&&i.id?"&status=".concat(null===a||void 0===a||null===(o=a.status)||void 0===o?void 0:o.value):" ",options:(0,p.eb)(s),type:"active"})]},M=t(33738),L={container:"CustomCollapse_container__zmGbL",textContainer:"CustomCollapse_textContainer__dhSyj",icon:"CustomCollapse_icon__m+xAO",childrenContainer:"CustomCollapse_childrenContainer__fn5pu"},P=t(44414),S=["stroke"],R=function(e){var n=e.stroke,t=(0,a.A)(e,S),i=(0,f.d4)(function(e){return e.app}).themeColors,o=(0,r.useMemo)(function(){return n||i["--text-color"]},[n,i]);return(0,P.jsx)("svg",(0,l.A)((0,l.A)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:(0,P.jsx)("path",{d:"M19 15L12 9L5 15",stroke:o,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}))},B=(0,r.memo)(R),D=function(e){var n=e.title,t=e.isOpen,i=e.children,l=e.className,a=void 0===l?"":l,s=(0,r.useState)(!!t),d=(0,o.A)(s,2),u=d[0],c=d[1];return(0,r.useEffect)(function(){!!t!==u&&c(!!t)},[t]),(0,P.jsxs)("div",{className:[L.container,a].join(" "),children:[(0,P.jsxs)("div",{className:L.textContainer,onClick:function(){return c(function(e){return!e})},children:[(0,P.jsx)("div",{children:n}),(0,P.jsx)("div",{children:(0,P.jsx)(B,{className:[L.icon,"iconHover","collapseIcon",u?"":"collapseIconRotated"].join(" ")})})]}),(0,P.jsx)(M.A,{in:u,timeout:"auto",unmountOnExit:!0,children:(0,P.jsx)("div",{className:L.childrenContainer,children:i})})]})},T=(0,r.memo)(D),N=t(83325),I=t(17418),H=t(67115),Q=t(71933),O=t(88553),E=["search_type","fieldLabels","roleCondition","customLoading","defaultInitialState","defaultOption","hasReset","hasDisabled","getFiltersData","hasRefetchLocal","intl"],z=["className","onKeyPress","name"],F=["className","name"],W=["className","name"],V=["className","name"],q=["key"],Z=["buttonText"],G={},K=(0,r.memo)((0,s.Ay)(function(e){var n=e.search_type,t=e.fieldLabels,s=e.roleCondition,p=e.customLoading,y=e.defaultInitialState,M=void 0===y?{}:y,L=e.defaultOption,S=void 0===L?{}:L,R=e.hasReset,B=e.hasDisabled,D=e.getFiltersData,K=e.hasRefetchLocal,J=e.intl.formatMessage,X=(0,a.A)(e,E),U=(0,f.d4)(function(e){return e.dataTable}),Y=U.loading,$=U.pagination,ee=U.search_query,ne=U.refresh,te=U.refetch,ie=(0,f.wA)(),oe=function(e,n){return ie(h.Ri({query:e,hasRefetch:n}))},le=(0,d.zy)().pathname,ae=function(e){return{client_types:A,clients:g,app_users:x,config_alarms:b,alarms:_,reports:w,vehicles:k,drivers:j}[e]||function(){return[]}}(n),re=(0,m.P)().CustomStackStyle,se=(0,r.useMemo)(function(){return(0,u.isEmpty)(M)?(0,l.A)((0,l.A)({},G),S):(0,l.A)((0,l.A)({},M),S)},[M,S]),de=(0,r.useState)(!1),ue=(0,o.A)(de,2),ce=ue[0],ve=ue[1],fe=(0,r.useState)(se),he=(0,o.A)(fe,2),me=he[0],pe=he[1];(0,r.useEffect)(function(){!ce&&ve(!0),ce&&!(0,u.isEmpty)(me)&&pe(se)},[le]);var Ae=function(e){return pe(function(n){return(0,l.A)((0,l.A)({},n),{},(0,i.A)({},e.target.name,e.target.value))})},ge=function(e,n){return pe(function(t){return(0,l.A)((0,l.A)({},t),{},(0,i.A)({},e,n))})},ye=function(e){return!("Enter"!==e.key)&&xe()},xe=function(){if("reset"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"search"))pe(R?(0,l.A)((0,l.A)({},G),S):se),R&&oe(" "),ee&&oe("","&status=1"===ee),null===D||void 0===D||D(null);else{var e=ae((0,l.A)({formData:me,formatMessage:J,roleCondition:s},X)),n=null===e||void 0===e?void 0:e.map(function(e){return(null===e||void 0===e?void 0:e.searchQuery)||""}),t=null===n||void 0===n?void 0:n.join("");t!==ee&&oe(t,K&&t===ee),null===D||void 0===D||D(me)}},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.className,t=e.onKeyPress,i=e.name,o=(0,a.A)(e,z);return(0,P.jsx)(v.A,{className:n||"",size:{xs:12,sm:6,md:4,lg:3},children:(0,P.jsx)(I.A,(0,l.A)({nonId:!0,autoChange:!0,isActive:!0,onChange:Ae,onKeyPress:!!t&&ye,value:(null===me||void 0===me?void 0:me[i])||""},(0,l.A)((0,l.A)({},o),{},{name:i})))})},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.className,t=e.name,i=(0,a.A)(e,F);return(0,P.jsx)(v.A,{className:n||"",size:{xs:12,sm:6,md:4,lg:3},children:(0,P.jsx)(H.A,(0,l.A)({isActive:!0,filterType:t,value:(null===me||void 0===me?void 0:me[t])||null,setValue:function(e,n){return ge(e,n)}},i))})},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.className,t=e.name,i=(0,a.A)(e,W);return(0,P.jsx)(v.A,{className:n||"",size:{xs:12,sm:6,md:4,lg:3},children:(0,P.jsx)(Q.A,(0,l.A)({isActive:!0,filterType:t,selectHandler:ge,defaultValue:(null===me||void 0===me?void 0:me[t])||[]},i))})},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.className,t=e.name,i=(0,a.A)(e,V);return(0,P.jsx)(v.A,{className:n||"",size:{xs:12,sm:6,md:4,lg:3},children:(0,P.jsx)(O.A,(0,l.A)({isActive:!0,value:(null===me||void 0===me?void 0:me[t])||"",customChangeHandler:function(e){return ge(t,e)}},i))})};return(0,P.jsx)("div",(0,l.A)((0,l.A)({},(0,C.BG)({duration:"600"})),{},{children:(0,P.jsx)(T,{title:J({id:"search.title"}),isOpen:!0,children:(0,P.jsxs)(v.A,{container:!0,rowSpacing:2,columnSpacing:2,columns:12,children:[function(){var e={input:be,filter:Ce,multi:_e,date:we},i=ae((0,l.A)({formData:me,fieldLabels:t,formatMessage:J,roleCondition:s},X));return null===i||void 0===i?void 0:i.flatMap(function(t,i){var o,l=t.key,s=(0,a.A)(t,q);return null!==e&&void 0!==e&&e[l]?(0,P.jsx)(r.Fragment,{children:null===e||void 0===e||null===(o=e[l])||void 0===o?void 0:o.call(e,s)},"".concat(n,"_").concat(null===s||void 0===s?void 0:s.name,"_").concat(i+1)):[]})}(),!!$&&(0,P.jsx)(v.A,{size:{xs:12,sm:6,md:4,lg:3},offset:"auto",children:(0,P.jsx)(c.A,{gap:2,justifyContent:"flex-end",direction:"row",sx:re,children:function(){var e=p||Y||ne||te,n=(0,u.isEmpty)(me)||e,t=(0,u.isEqual)(me,se)&&!ee,i=[{buttonText:"button.apply",onClick:xe,buttonType:"primary",loading:e,loadingButton:!0,disabled:(null===B||void 0===B?void 0:B(me))||t},{buttonText:"button.reset",onClick:function(){return xe("reset")},buttonType:"reset",disabled:n||t}];return null===i||void 0===i?void 0:i.map(function(e,n){var t=e.buttonText,i=(0,a.A)(e,Z);return(0,P.jsx)(N.A,(0,l.A)((0,l.A)({fullWidth:!0},i),{},{children:J({id:t})}),"".concat(t,"_").concat(n))})}()})})]})})}))}))},65510:function(e,n,t){t.d(n,{A:function(){return G}});var i=t(89379),o=t(5544),l=t(80045),a=t(9950),r=t(54408),s=t(86817),d=t(23266),u=t(74745),c=t(44094),v=t(37921),f={container:"CustomButtonOptions_container__XiiYE",iconWrapper:"CustomButtonOptions_iconWrapper__KGidm",buttonText:"CustomButtonOptions_buttonText__JtXCx"},h=t(5731),m=t(13633),p=t(83137),A=t(83325),g=t(64467),y=t(60436),x=t(41397),b=t(28429),C=t(10300),_=t(45131),w=t(73275),k=t(20610),j=t(83274),M=t(41413),L={refreshButton:"RefreshButton_refreshButton__u172r",refreshActive:"RefreshButton_refreshActive__vXPsQ",rotating:"RefreshButton_rotating__it+7-"},P=t(74066),S=t(44414),R=(0,a.memo)((0,r.Ay)(function(e){var n=e.hasRefresh,t=e.customRefresh,i=e.setCustomRefresh,o=e.intl.formatMessage,l=(0,C.d4)(function(e){return e.dataTable}).refresh,a=(0,C.wA)(),r=t||l,s=i||function(e){return a(_.W7(e))};return!!n&&(0,S.jsx)(j.A,{title:o({id:"button.reload"}),arrow:!0,children:(0,S.jsx)(M.A,{className:["iconHover",L.refreshButton].join(" "),onClick:function(){return!r&&s(!0)},children:(0,S.jsx)("span",{className:r?L.refreshActive:"",children:(0,S.jsx)(P.A,{})})})})})),B=["stroke"],D=function(e){var n=e.stroke,t=(0,l.A)(e,B),o=(0,C.d4)(function(e){return e.app}).themeColors,r=(0,a.useMemo)(function(){return n||o["--text-color"]},[n,o]);return(0,S.jsxs)("svg",(0,i.A)((0,i.A)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[(0,S.jsx)("path",{d:"M7.66634 14C11.1641 14 13.9997 11.1644 13.9997 7.66665C13.9997 4.16884 11.1641 1.33331 7.66634 1.33331C4.16854 1.33331 1.33301 4.16884 1.33301 7.66665C1.33301 11.1644 4.16854 14 7.66634 14Z",stroke:r,strokeLinecap:"round",strokeLinejoin:"round"}),(0,S.jsx)("path",{d:"M14.6663 14.6666L13.333 13.3333",stroke:r,strokeLinecap:"round",strokeLinejoin:"round"})]}))},T=(0,a.memo)(D),N=function(e){var n;return(0,i.A)({search:""},Object.assign.apply(Object,[{}].concat((0,y.A)(null===(n=(0,p.di)(e))||void 0===n?void 0:n.map(function(e){return(0,g.A)({},e,null)})))))},I=(0,a.memo)((0,r.Ay)(function(e){var n=e.searchOptions,t=void 0===n?[]:n,o=(e.data,e.noDefaultSearch),l=e.intl.formatMessage,r=(0,a.useMemo)(function(){return{search:l({id:"input.search"})}},[l]),s=(0,C.d4)(function(e){return e.dataTable}),d=s.refetch,u=s.local_query,v=void 0===u?{}:u,f=(0,C.wA)(),h=function(e){return f(_.g2(e))},m=(0,b.zy)().pathname,p=(0,w.P)({initialValues:N(t),fieldLabels:r,keyName:"local_query",noValidation:!0}),A=p.formik,y=p.renderMultipleFilters,j=p.renderMultipleInputs,M=(0,a.useRef)({local_query:v});(0,a.useLayoutEffect)(function(){v&&(h(),null===A||void 0===A||A.resetForm())},[m]),(0,a.useEffect)(function(){M.current={local_query:v}},[v]),(0,a.useEffect)(function(){!(0,x.isEqual)(null===A||void 0===A?void 0:A.values,v)&&h(null===A||void 0===A?void 0:A.values)},[null===A||void 0===A?void 0:A.values]);var L=(0,a.useMemo)(function(){return[{name:"status",className:"w-100",options:(0,k.eb)(l),label:l({id:"filter.status"}),type:"active"}]},[l]),P=(0,a.useMemo)(function(){return[{name:"search",className:"w-100",customLabel:(0,S.jsxs)("div",{className:"d-flex align-items-center gap-1",children:[(0,S.jsx)("div",{children:(0,S.jsx)(T,{})}),(0,S.jsx)("div",{children:null===r||void 0===r?void 0:r.search})]}),onKeyPress:function(e){return function(e,n){var t,o;return!("Enter"!==e.key&&null!==e&&void 0!==e&&null!==(t=e.target)&&void 0!==t&&t.value)&&h((0,i.A)((0,i.A)({},null===A||void 0===A?void 0:A.values),{},(0,g.A)({},n,null===e||void 0===e||null===(o=e.target)||void 0===o?void 0:o.value)))}(e,"search")},noChangeOnPress:!0}]},[r]);return(0,S.jsxs)(S.Fragment,{children:[!(null===t||void 0===t||!t.length)&&L.flatMap(function(e,n){return null!==t&&void 0!==t&&t.includes(null===e||void 0===e?void 0:e.name)?(0,S.jsx)(c.A,{size:{xs:12,sm:6,md:4,lg:3},offset:"auto",children:y([e])},n):[]}),(0,S.jsxs)(c.A,(0,i.A)((0,i.A)({size:{xs:12,sm:6,md:4,lg:3},gap:2,display:"flex",alignItems:"center"},null!==t&&void 0!==t&&t.length?{}:{offset:"auto"}),{},{children:[!o&&j(P),(0,S.jsx)(R,{hasRefresh:!0,customRefresh:d,setCustomRefresh:function(e){return f(_.Ms(e))}})]}))]})})),H=function(e){return(0,S.jsx)("svg",(0,i.A)((0,i.A)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:(0,S.jsx)("path",{d:"M8 12H16M12 16V8M12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22Z",stroke:(null===e||void 0===e?void 0:e.stroke)||"#B79233",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}))},Q=function(e){return(0,S.jsxs)("svg",(0,i.A)((0,i.A)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[(0,S.jsx)("path",{d:"M11 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22H15C20 22 22 20 22 15V13",stroke:(null===e||void 0===e?void 0:e.stroke)||"#B79233",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,S.jsx)("path",{d:"M16.0399 3.02123L8.15988 10.9012C7.85988 11.2012 7.55988 11.7912 7.49988 12.2212L7.06988 15.2312C6.90988 16.3212 7.67988 17.0812 8.76988 16.9312L11.7799 16.5012C12.1999 16.4412 12.7899 16.1412 13.0999 15.8412L20.9799 7.96123C22.3399 6.60123 22.9799 5.02123 20.9799 3.02123C18.9799 1.02123 17.3999 1.66123 16.0399 3.02123Z",stroke:(null===e||void 0===e?void 0:e.stroke)||"#B79233",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,S.jsx)("path",{d:"M14.9102 4.14844C15.2417 5.3259 15.8701 6.3985 16.7351 7.26348C17.6001 8.12846 18.6727 8.75685 19.8502 9.08844",stroke:(null===e||void 0===e?void 0:e.stroke)||"#B79233",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})]}))},O=function(e){return(0,S.jsx)("svg",(0,i.A)((0,i.A)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:(0,S.jsx)("path",{d:"M21 5.98C17.67 5.65 14.32 5.48 10.98 5.48C9 5.48 7.02 5.58 5.04 5.78L3 5.98M8.5 4.97L8.72 3.66C8.88 2.71 9 2 10.69 2H13.31C15 2 15.13 2.75 15.28 3.67L15.5 4.97M18.85 9.14L18.2 19.21C18.09 20.78 18 22 15.21 22H8.79C6 22 5.91 20.78 5.8 19.21L5.15 9.14M10.33 16.5H13.66M9.5 12.5H14.5",stroke:(null===e||void 0===e?void 0:e.stroke)||"#B79233",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}))},E=function(e){return(0,S.jsxs)("svg",(0,i.A)((0,i.A)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[(0,S.jsx)("path",{opacity:"0.4",d:"M21 7V17C21 20 19.5 22 16 22H8C4.5 22 3 20 3 17V7C3 4 4.5 2 8 2H16C19.5 2 21 4 21 7Z",fill:e.fill||"#B79233"}),(0,S.jsx)("path",{d:"M18.5 9.25H16.5C14.98 9.25 13.75 8.02 13.75 6.5V4.5C13.75 4.09 14.09 3.75 14.5 3.75C14.91 3.75 15.25 4.09 15.25 4.5V6.5C15.25 7.19 15.81 7.75 16.5 7.75H18.5C18.91 7.75 19.25 8.09 19.25 8.5C19.25 8.91 18.91 9.25 18.5 9.25Z",fill:e.fill||"#B79233"}),(0,S.jsx)("path",{d:"M12 13.75H8C7.59 13.75 7.25 13.41 7.25 13C7.25 12.59 7.59 12.25 8 12.25H12C12.41 12.25 12.75 12.59 12.75 13C12.75 13.41 12.41 13.75 12 13.75Z",fill:e.fill||"#B79233"}),(0,S.jsx)("path",{d:"M16 17.75H8C7.59 17.75 7.25 17.41 7.25 17C7.25 16.59 7.59 16.25 8 16.25H16C16.41 16.25 16.75 16.59 16.75 17C16.75 17.41 16.41 17.75 16 17.75Z",fill:e.fill||"#B79233"})]}))},z=t(58001),F=t(90381),W=["name","Icon","title"],V={AddCircleIcon:H,EditIcon:Q,TrashIcon:O,PreviewIcon:E},q=["new_action"],Z=(V||{}).AddCircleIcon,G=(0,a.memo)((0,r.Ay)(function(e){var n=e.options,t=e.defaultCrudActions,r=void 0===t?{}:t,g=r.new_action,y=(0,l.A)(r,q),x=e.disabled,b=e.disabledDetails,C=e.disabledAll,_=e.hasRefresh,w=e.localOnly,k=e.searchOptions,j=e.data,M=e.intl.formatMessage,L=(0,a.useState)(null),P=(0,o.A)(L,2),R=P[0],B=P[1],D=Boolean(R),T=function(){return B(null)},N=(0,m.P)(),H=N.AttachmentMenuStyle,G=N.CustomStackStyle;(0,a.useEffect)(function(){x&&R&&T()},[x]);return(0,S.jsxs)("div",(0,i.A)((0,i.A)({className:f.container},(0,p.BG)({direction:"fade-up"})),{},{children:[(0,S.jsxs)(c.A,{container:!0,rowSpacing:2,columnSpacing:2,columns:12,className:"w-100",children:[!w&&(0,S.jsxs)(c.A,{size:{xs:12,sm:6,md:4,lg:3},gap:2,display:"flex",sx:G,children:[!!g&&(0,S.jsxs)(A.A,{buttonType:"options",disabled:!!C,onClick:g,fullWidth:!0,children:[(0,S.jsx)("span",{children:(0,S.jsx)(Z,{className:"icon_24"})}),(0,S.jsx)("span",{className:f.buttonText,children:M({id:"button.add"})})]}),(0,S.jsxs)(A.A,{buttonType:"options",disabled:!!C,onClick:function(e){return B(e.currentTarget)},fullWidth:!!g,children:[(0,S.jsx)("span",{children:(0,S.jsx)(v.A,{})}),(0,S.jsx)("span",{className:f.buttonText,children:M({id:"button.additional.options"})})]})]}),!!_&&(0,S.jsx)(I,{searchOptions:k,data:j})]}),!w&&(0,S.jsx)(s.A,{anchorEl:R,id:"additional-options-menu",open:D,onClose:T,slotProps:{paper:{elevation:0,sx:H({mt:1.5,minWidth:"12rem"},{top:-10,right:"1.8rem"})}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:function(){var e,t=null===n||void 0===n?void 0:n((0,i.A)({classes:f},V)),o=null!==t&&void 0!==t&&t.length?t:function(e){var n=e.defaultCrudActions,t=e.disabled,o=e.disabledDetails,a=e.formatMessage,r=e.classes,s=[{name:"details",Icon:E,title:a({id:"button.details"}),divider:!(null!==n&&void 0!==n&&n.report),disabled:o||t},{name:"report",Icon:F.A,title:a({id:"nav.reports"}),divider:!0,disabled:t},{name:"add_report",Icon:z.A,title:a({id:"input.add.report"}),disabled:t},{name:"edit",Icon:Q,title:a({id:"button.edit"}),disabled:t},{name:"status",Icon:Q,title:a({id:"button.status"}),disabled:t},{name:"delete",Icon:O,title:a({id:"button.remove"}),divider:!(null===n||void 0===n||!n.details),disabled:t}];return null===s||void 0===s?void 0:s.flatMap(function(e){var t=e.name,o=e.Icon,a=e.title,s=(0,l.A)(e,W);return null!==n&&void 0!==n&&n[t]?(0,i.A)({title:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("span",{children:(0,S.jsx)(o,{className:"icon_24"})}),(0,S.jsx)("span",{className:r.buttonText,children:a})]}),click:null===n||void 0===n?void 0:n[t]},s):[]})}({defaultCrudActions:y,disabled:x,disabledDetails:b,formatMessage:M,classes:f});return null===(e=(0,p.di)(o))||void 0===e?void 0:e.map(function(e,n){return(0,S.jsxs)("div",{children:[(0,S.jsx)(d.A,{className:f.iconWrapper,onClick:function(){return function(e){null!==e&&void 0!==e&&e.disabled||(null===e||void 0===e||e.click(),T())}(e)},disabled:null===e||void 0===e?void 0:e.disabled,children:null===e||void 0===e?void 0:e.title}),!(null===e||void 0===e||!e.divider)&&(0,S.jsx)(u.A,{sx:{my:.5,borderColor:(0,p.DA)(h.a5,.5)}})]},"additional_option_".concat(null===e||void 0===e?void 0:e.id,"_").concat(n+1))})}()})]}))}))}}]);